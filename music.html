<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Download and hear Music</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">
    <link rel="stylesheet" href="css/music.css">
</head>
<body>
<div class="main-head">
    <div class="item-1">
        <h1 class="title">Listen to Top Tracks </h1>

        <div class="description">Listen to amazing tracks across the world</div>
    </div>
    <div class="item-2">
        <img src="https://preview.colorlib.com/theme/solmusic/img/xhero-bg.png.pagespeed.ic.GoIKFhhe_u.webp">
    </div>
</div>
<div id="music">
    <div class="music-heading">
        <h1 class="music-head">Top Tracks</h1>
    </div>
</div>
<script>
    function getData() {
        fetch('https://ws.audioscrobbler.com/2.0/?method=tag.gettoptracks&tag=disco&api_key=3bbbcc10bfc48375e206c2167be29ce1&format=json').then(response=>response.json()).then(data=>songlist(data))
    }
    getData()

    function songlist(data) {
        var mainContainer = document.getElementById("music");
        for (let i = 0; i <= 10; i++) {
            if (i%3===0) {
                var div = document.createElement('div');
                div.classList.add("card-group")

                div.innerHTML= "<div class='card'> <img class='card-img-top' src='https://preview.colorlib.com/theme/poca/img/bg-img/4.jpg' alt='Card image cap'> <div class='card-body'> <h2 class='card-title'>Card title</h2> <p class='card-text'> <div class='author'>By Jillie Beans</div> <div class='date'>19th of August</div></p> <p class='card-text'> <button type='button' class='btn btn-primary btn-lg'> <a href='' target='_blank'>Listen</a> </button></p></div></div><div class='card'> <img class='card-img-top' src='https://preview.colorlib.com/theme/poca/img/bg-img/4.jpg' alt='Card image cap'> <div class='card-body'> <h2 class='card-title'>Card title</h2> <p class='card-text'> <div class='author'>By Jillie Beans</div> <div class='date'>19th of August</div></p> <p class='card-text'> <button type='button' class='btn btn-primary btn-lg'> <a href='' target='_blank'>Listen</a> </button></p></div></div><div class='card'> <img class='card-img-top' src='https://preview.colorlib.com/theme/poca/img/bg-img/4.jpg' alt='Card image cap'> <div class='card-body'> <h2 class='card-title'>Card title</h2> <p class='card-text'> <div class='author'>By Jillie Beans</div> <div class='date'>19th of August</div></p> <p class='card-text'> <button type='button' class='btn btn-primary btn-lg'> <a href='' target='_blank'>Listen</a> </button></p></div></div>"
                mainContainer.appendChild(div)
            }
        }
        for (let i = 0; i <= 11; i++) {
            document.getElementsByTagName("h2")[i].innerHTML = data['tracks']['track'][i]['name'];
            document.getElementsByClassName("author")[i].innerHTML = data['tracks']['track'][i]['artist']['name'];
            document.getElementsByTagName("a")[i].href = data['tracks']['track'][i]['url'];
        }
    }
</script>

</div>
</body>
</html>